//
// @description :
// @author      : Adarsh Pastakia
// @copyright   : 2017
// @license     : MIT

// Contextual Colors
@mixin color-property($class, $colorName, $property, $color) {
  .ui-#{$class}-#{$colorName} {
    #{$property}: $color;
  }
}

// Switch
@mixin switch-theme($theme, $offBg: $light, $offText: $muted, $onBg: $dark, $onText: $white) {
  .ui-switch.#{$theme} {
    > .ui-switch-input ~ .ui-switch-inner {
      background-color: $offBg;

      &:before {
        color: $offText;
      }
    }

    > .ui-switch-input:checked ~ .ui-switch-inner {
      background-color: $onBg;

      &:after {
        color: $onText;
      }
    }
  }
}
//

// Toolbars
@mixin toolbar-theme($theme, $bg, $color: $white) {
  .ui-toolbar.#{$theme} {
    background: $bg;

    .ui-dropdown {
      .ui-caret,
      .ui-label {
        color: $color;
      }
      background: rgba($white, .1);
    }

     > .ui-input-group .ui-group-wrapper,
    > .ui-input-wrapper .ui-input-control {
      background: rgba($white, .1);
      color     : $color;
    }

    > .ui-input-group .ui-group-wrapper .ui-input-control {
      background: none;
      color     : $color;
    }

     > .ui-input-group .ui-input-wrapper:not(.ui-focus) .ui-input-control,
    > .ui-input-wrapper:not(.ui-focus) .ui-input-control {
      box-shadow: 0 -1px 0 0 rgba($color, .5) inset;
    }

     > .ui-input-group .ui-input-wrapper.ui-focus .ui-input-control,
    > .ui-input-wrapper.ui-focus .ui-input-control {
      box-shadow: 0 -2px 0 0 $color inset;
    }
  }
}

// Statsbar
@mixin statsbar-theme($theme, $color, $bg: $base-bg) {
  .ui-statsbar.#{$theme} {
    background: $bg;

    .ui-stat {
      color: $color;
    }

    .ui-stat-label {
      color: rgba($color, .75);
    }
  }
  .ui-statsbar .ui-stat.#{$theme} {
    color     : $color;
    background: $bg;

    .ui-stat-label {
      color: rgba($color, .75);
    }
  }
}

// Alerts/Toasts
@mixin toast-theme($theme, $bg, $color: $white) {
  .ui-toast.#{$theme} {
    background  : $bg;
    color       : $color;
    border-color: shade($bg, 10%);
  }
}

// Headers
@mixin header-theme($theme, $bg, $color: $white) {
  .ui-header.#{$theme} {
    background: tint($bg, 10%);
    color     : $color;

    .ui-drawer-toggle {
      color: $color !important;
    }

    .ui-dropdown {
      .ui-caret,
      .ui-label {
        color: $color;
      }
      background: rgba($white, .1);
    }

    .ui-header-button {
      color     : rgba($color, .7);
      background: tint($bg, 20%);
      border    : 1px solid rgba(shade($bg, 20%), .5);

      &:hover {
        color       : rgba($color, .9);
        border-color: rgba(shade($bg, 40%), .5);
      }

      &:active {
        background: shade($bg, 10%);
      }
    }
  }
}
//

// Breadcrumbs
@mixin breadcrumb-theme($theme, $themecolor) {
  .ui-breadcrumb.#{$theme} .ui-crumb {
    @for $i from 0 through 12 {
      $color: lighten($themecolor, $i * 3%);
      $hover: darken($color, 5%);

      &:nth-child(#{$i + 1}) a {
        background: $color;

        &:after {
          border-left-color: $color;
        }

        &:hover {
          background: $hover;

          &:after {
            border-left-color: $hover;
          }
        }
      }
    }
  }

  .rtl,
  [dir="rtl"] {
    .ui-breadcrumb.#{$theme} .ui-crumb {
      @for $i from 0 through 12 {
        $color: lighten($themecolor, $i * 3%);
        $hover: darken($color, 5%);

        &:nth-child(#{$i + 1}) a {
          &:after {
            border-right-color: $color;
          }

          &:hover:after {
            border-right-color: $hover;
          }
        }
      }
    }
  }
}
//

// Buttons
@mixin button-theme($style, $bg, $text, $hoverBg, $hoverText, $activeBg, $activeText) {
  .ui-button-group.ui-toggle .ui-button.#{$style}.ui-active {
    color         : $text;
    background    : $bg;
    border-color  : rgba(shade($bg, 15%),.5);
    cursor        : default;
    pointer-events: none;
  }

  .ui-button.#{$style} {
    color       : $text;
    background  : $bg;
    border-color: shade($bg, 15%);
    @include box-shadow(1px 1px 1px 0 rgba(shade($bg, 20%),.5));

    &.ui-btn-dropdown:after {
      color: rgba($text, .8);
    }

    &:hover {
      color       : $hoverText;
      background  : $hoverBg;
      border-color: shade($bg, 20%);
    }

    &:active {
      color       : $activeText;
      background  : $activeBg;
      border-color: shade($bg, 20%);
    }

    &.ui-open,
    &:active {
      @include box-shadow(-1px -1px 0 0 tint($activeBg, 25%) inset, 1px 1px 0 0 shade($activeBg, 25%) inset);
    }
  }
}

$colors: (
  ('red', #ff3b30, $light),
  ('pink', #e91e63, $light),
  ('violet',#9c27b0, $light),
  ('purple',#673ab7, $light),
  ('indigo',#3f51b5, $light),
  ('blue', #2196f3, $light),
  ('cyan', #00bcd4, $light),
  ('teal', #009688, $light),
  ('green', #4caf50, $light),
  ('lime', #cddc39, $dark),
  ('yellow',#ffeb3b, $dark),
  ('amber', #ffc107, $dark),
  ('orange',#ff5722, $light),
  ('brown', #795548, $light),
  ('gray', #607d8b, $light)
);
@each $key, $color, $text in $colors {

  @include color-property(bg, $key, background-color, $color);
  @include color-property(text, $key, color, $color);
  @include color-property(border, $key, border-color, $color);

  @include switch-theme($key, $onBg: $color, $onText: $text);
  @include toolbar-theme($key, $color, $text);
  @include statsbar-theme(#{$key}-bg, $text, $color);
  @include statsbar-theme($key, $color, inherit);
  @include toast-theme($key, $color, $text);
  @include header-theme($key, $color, $text);
  @include breadcrumb-theme($key, $color);

  @include button-theme($key, $color, $text, tint($color, 10%), $text, shade($color, 10%), $text);
}
